{"componentChunkName":"component---src-templates-template-tsx","path":"/proc-metalib-error-invalid-use-of-sign-notation/","result":{"data":{"site":{"meta":{"title":"Raw SAS - SAS Tips n Tricks","description":"Tips n Tricks and other SAS Titbits from around 10 years of SAS projects and tinkering about with SAS"}},"post":{"id":"71ef0da7-aca7-5920-9330-877c7bcd290e","html":"<p>So today I dropped a column in a SQL Server table (using SSMS) and duly checked out the SAS metadata in DI Studio in order to ‘Update Metadata’.</p>\n<p>It failed with a strange message:</p>\n<div><span style=\"background: white; color: red; font-family: 'courier new';\">ERROR: Invalid use of sign notation.</span></div>\nCurious, I extracted the code and ran it in Enterprise Guide (the repository ID would ensure it ran against my checkout).  Same result, so following the advice in<a href=\"http://support.sas.com/kb/40/429.html\" target=\"_blank\" rel=\"noopener\"> usage note 40429</a> I ran with maximum logging (for 9.3) as follows:\n<div><span style=\"background: white; color: blue; font-family: 'courier new';\">options</span><span style=\"background: white; font-family: 'courier new';\"> sastrace=</span><span style=\"background: white; color: purple; font-family: 'courier new';\">',,,d'</span><span style=\"background: white; font-family: 'courier new';\">sastraceloc=saslog nostsuffix;</span></div>\n<div><b><span style=\"background: white; color: navy; font-family: 'courier new';\">proc</span></b> <b><span style=\"background: white; color: navy; font-family: 'courier new';\">metalib</span></b><span style=\"background: white; font-family: 'courier new';\"> tl=</span><b><span style=\"background: white; color: teal; font-family: 'courier new';\">4095</span></b><span style=\"background: white; font-family: 'courier new';\">; </span><span style=\"background: white; color: green; font-family: 'courier new';\">/* max is 4094 for 9.2 */</span></div>\n<div><span style=\"background: white; font-family: 'courier new';\">  omr (libid=</span><span style=\"background: white; color: purple; font-family: 'courier new';\">\"B900004R\"</span><span style=\"background: white; font-family: 'courier new';\"> repid=</span><span style=\"background: white; color: purple; font-family: 'courier new';\">\"A5HOSDWY\"</span><span style=\"background: white; font-family: 'courier new';\">);</span></div>\n<div><span style=\"background: white; font-family: 'courier new';\">  report(type = summary);</span></div>\n<div><span style=\"background: white; font-family: 'courier new';\">  update_rule = (noadd);</span></div>\n<div><span style=\"background: white; font-family: 'courier new';\">  select (A5GF9HGW.AD00016K);</span></div>\n<div></div>\n<div><b><span style=\"background: white; color: navy; font-family: 'courier new';\">run</span></b><span style=\"background: white; font-family: 'courier new';\">;</span></div>\nThe last operation before my SAS error was:\n<p><span style=\"font-family: 'courier new' , 'courier' , monospace;\">(MSCMLB) getREPindices: Enter</span>\n<span style=\"font-family: 'courier new' , 'courier' , monospace;\">(MSCMLB) getREPindices: Index object name is pk<em>rm</em>objects</span>\n<span style=\"font-family: 'courier new' , 'courier' , monospace;\">(MSCMLB) getREPindices: Index metaid is A5GF9HGW.AI00015K</span>\n<span style=\"font-family: 'courier new' , 'courier' , monospace;\">(MSCMLB) getREPindices: IndexName is pk<em>rm</em>objects</span>\n<span style=\"font-family: 'courier new' , 'courier' , monospace;\">(MSCMLB) getREPindices: Exit;  Return Code is -2147475442</span></p>\n<p>This indicated an issue with the index.  I tried various ways of redefining the index in SQL Server (from clustered to non-clustered, uppercase name to lowercase etc) to no avail.  In the end, the solution was simply to right click the metadata item in DI Studio, Properties, selecting the Index tab.  At this point I got a popup (similar to below) which mentioned the index needing to be marked as unique, and also about re-ordering columns.  I clicked yes, and - voila - I was then able to update the metadata!</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; margin-bottom: 1.0725rem;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 40.95744680851064%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAB00lEQVQozzWQS2/TQBRG/cfZsWLJqj8AsaIIVQJKaaEtpInfY3v8dhInTlO1VWhiO4UipMNtCoujb+7Mdx9zjaNzk6OB4vDc57OVc6waPjozDqwZ78w5+8MZr0/zHfvDmg/+FZ/Uki/RFV/DS06zFcdvDjh78Zz3e3sY53ZEPrtGl5ck9S3ZsidqWtzpGnvyhFmusAR/1hEu7okutyTiK6/vqW4fyCQ3V5rhKMDwwoRf9y3bfkOZ58RhSBZLkzQhFVWOjfI8fNuWe41rmQwHA3zXochSIhWQim76jqJuMAZOxLOXNkdnOeMywxxZuI6DEqPnK3xP4Qm25eDYrry5fP82YDg0CYMQazTC9wP6tiUtpxgXrubVW0WgG+mYMLowxeBLAVsKODKJTOf5xHFMUZToUJPLT6IwYrFYkGe5xAV915GUNcbIj/nze0vXrRmPJ5RlRT2t0TqmLAom1ZixsFqtxNOxXq+5E3Z6d7fTH6Jdu0EX08eCqeyvY7PZiPZstz29xA8/tyxXa77rCrdaMGsaMtnrzc21TNPuCnTtk7aS++hPqjnGyYViOl9S1Yt/NJTThrGcg7zm0NScOClOIOtwFDqrdr5Hz3+KyZy6WTLwUv4CEp01uCWajNcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Capture 300x123\" title=\"Capture 300x123\" src=\"/tetrahex-rawsas/static/5db31cc9fe5cfa43ab03d453c0bc954f/5a46d/Capture-300x123.png\" srcset=\"/tetrahex-rawsas/static/5db31cc9fe5cfa43ab03d453c0bc954f/4dcb9/Capture-300x123.png 188w,\n/tetrahex-rawsas/static/5db31cc9fe5cfa43ab03d453c0bc954f/5a46d/Capture-300x123.png 300w\" sizes=\"(max-width: 300px) 100vw, 300px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<div style=\"clear: both; text-align: center;\"></div>\n&#xA0;","frontmatter":{"title":"proc metalib - ERROR: Invalid use of sign notation","path":"/proc-metalib-error-invalid-use-of-sign-notation/","previewImg":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABl0lEQVQY0z2PS2+cMBRG+eVddZdl/0DVRZVNU1Wt1DajJKXTmc4YgzE2NpiXgQyQCUwwL00VVSooUj+dxX3oSPdqqzVYbfH3n/YtFDf4/puZfTGyTyC/2qWXurjUg6ud/GpX17i4I6VOih9ec/vhs37x+ubtO20NqciONCy8vPGryT2MSHYwUTMgaIzwhNKeHCZaTLwcw+M5aZ5FVHrIIW6qIcL/nPtxaIXnu8Qh2A59z2PUhgaxkWUYgrsIgv1mQwjmlLoOpoyrvi/qVttC+uoNXK19GQkAoAEAoS7GGJkWQnieWBYyoflrvd3vgOMQsAcYE6VUVjXab9N9/9FxWO5zZgADWcgyoTWbpmUj26VuFEaMskAI5rI0zYJAxHGi2laWjba3+d/naRhUkiRRGMs044yHQSjjOJVp3TTDMCrVteol7VIvTZsUjbazed917dPT0HdDP6c7T0PxeNqwGAZ5fp8Ljz9UVafa/8zm2KtF1iE7PKq0bF6Yj8mrE0uPKxTeObHjJwbmvizksqplsZAU9fwwkfU/aSaaCS/kjA0AAAAASUVORK5CYII=","aspectRatio":2.4390243902439024,"src":"/tetrahex-rawsas/static/de2db218f1b04f6e822cfbf7afbde1ee/473cd/frontmatter20.png","srcSet":"/tetrahex-rawsas/static/de2db218f1b04f6e822cfbf7afbde1ee/69585/frontmatter20.png 200w,\n/tetrahex-rawsas/static/de2db218f1b04f6e822cfbf7afbde1ee/497c6/frontmatter20.png 400w,\n/tetrahex-rawsas/static/de2db218f1b04f6e822cfbf7afbde1ee/473cd/frontmatter20.png 422w","sizes":"(max-width: 422px) 100vw, 422px"}}},"tags":["ERROR: Invalid use of sign notation."],"date":"Sep 22, 2016"}}},"pageContext":{"archives":{"2012":8,"2013":10,"2014":4,"2015":7,"2016":17,"2017":12,"2018":9,"2019":2,"2020":3}}},"staticQueryHashes":[]}